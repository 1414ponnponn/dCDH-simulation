"0","data <- df_ind |> "
"0","  slice(rep(1:n(), each = total_years)) |>"
"0","  mutate("
"0","    year = rep(1980:2015, time = n_obs),"
"0","    timeFixed = rep(rnorm(total_years, 0, 0.5), time = n_obs),"
"0","    isTreated = if_else(group == 2, between(year, 1989, 1997), year >= trTime),"
"0","    y1 = firmFixed + timeFixed + rnorm(n_obs * total_years, 0, 0.5) +"
"0","      rnorm(n_obs * total_years, 2, 0.2) * isTreated,"
"0","    y2 = firmFixed + timeFixed + rnorm(n_obs * total_years, 0, 0.5) + case_when("
"0","      group %in% 1:2 ~ rnorm(n_obs * total_years, 5, 0.2) * isTreated,"
"0","      group == 3 ~ rnorm(n_obs * total_years, 3, 0.2) * isTreated,"
"0","      group == 4 ~ rnorm(n_obs * total_years, 1, 0.2) * isTreated"
"0","    ),"
"0","    y3 = firmFixed + timeFixed + rnorm(n_obs * total_years, 0, 0.5) + "
"0","      rnorm(n_obs * total_years, 0.2, 0.2) * (year - trTime) * isTreated,"
"0","    y4 = firmFixed + timeFixed + rnorm(n_obs * total_years, 0, 0.5) + case_when("
"0","      group %in% 1:2 ~ rnorm(n_obs * total_years, 0.5, 0.2) * (year - trTime) * isTreated,"
"0","      group == 3 ~ rnorm(n_obs * total_years, 0.3, 0.2) * (year - trTime) * isTreated,"
"0","      group == 4 ~ rnorm(n_obs * total_years, 0.1, 0.2) * (year - trTime) * isTreated"
"0","    )"
"0","  )"
